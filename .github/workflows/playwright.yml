name: Playwright Tests
# This workflow runs Playwright tests on push and pull request events to the Saucedemo, main, and master branches.
on:
    # push:
    #     branches: [Saucedemo, main, master]
    pull_request:
        branches: [Saucedemo, main, master]
    workflow_dispatch:
permissions:
    contents: read
    actions: read
jobs:
    test:
        timeout-minutes: 60
        runs-on: ubuntu-latest
        # 使用 container 指令來指定 Playwright 的官方 Docker 映像檔
        # 後續所有 steps 都在這個容器內執行
        container:
            image: mcr.microsoft.com/playwright:v1.57.0-noble
        steps:
            - uses: actions/checkout@v5
            # - uses: oven-sh/setup-bun@v2
            #   with:
            #       bun-version: latest
            - name: Install bun
              run: |
                  curl -fsSL https://bun.sh/install | bash
            - name: Install dependencies
              run: bun install
            - name: Run Playwright tests
              run: bunx playwright test
